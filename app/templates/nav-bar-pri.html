
<nav class="nav-bar">
    <div class="logo-home">
        <a href="{{ url_for('home')}}">
            <img class="logo" src="{{ url_for('static', filename='img/Money-control(SIMPLE).SVG') }}" alt="logo-principal">
        </a>
    </div>
    <div class="nav-options">
        <ul class="nav-options-list">
            <li>
                <a class="link-bar" href="/comming-soon">                                   
                    <img class="icon" src="{{ url_for('static', filename='img/premium.svg') }}">
                        premium
                </a>
            </li>
            <li class="link-bar">
                |
            </li>
            {% if user_rol == 0 %}
            <button class="nav-buttons" id="button-admin">
                <img class="icon" src="{{ url_for('static', filename='img/admin.svg') }}" alt="admin">
            </button> 
            {% endif %}
            <li class="content-nav-buttons">
                <button class="nav-buttons" id="button-notification">
                    <img class="icon" src="{{ url_for('static', filename='img/Notification.svg') }}" alt="Notifications">
                </button>
                <button class="nav-buttons" id="button-accout">
                    <img class="icon" src="{{ url_for('static', filename='img/Accout.svg') }}" alt="Accout">
                </button>    
            </li>
        </ul>
    </div>

    <div class="accout-menu" id="accout-menu">
        <button class="close-menu" data-menu="accout-menu">&times;</button>
        <img class="profile-img" src="https://th.bing.com/th/id/R.aa68f7e9a23926baace2846aa8787e6e?rik=vAlPYVPqlAlC7Q&pid=ImgRaw&r=0">
        <div class="accout-options">
            <div class="option left"> Perfil <img src="{{ url_for('static', filename='img/profile.svg') }}" alt="Perfil"></div> 
            <div class="option right"> Apariencia <img src="{{ url_for('static', filename='img/appearance.svg') }}" alt="Apariencia"></div>
            <div class="option left"> Configuración <img src="{{ url_for('static', filename='img/settings.svg') }}" alt="settings"> </div> 
            <div class="option right"> Ayuda <img src="{{ url_for('static', filename='img/help.svg') }}" alt="Ayuda"></div>
            <a href="{{ url_for('logout') }}" class="option logout">Cerrar sesión <img src="{{ url_for('static', filename='img/logout.svg') }}" alt="Cerrar sesión"></a>
        </div>
    </div>

    <div class="notification-menu" id="notification-menu">
        <div class="notification-list">
            <div class="notification-item">
                <span class="notification-title">Actualización</span>
                <a class="notification-desc" href="#">Nueva función disponible</a>
            </div>
            <div class="notification-item">
                <span class="notification-title">Recordatorio</span>
                <a class="notification-desc" href="#">No olvides verificar tu email</a>
            </div>
            <div class="notification-item">
                <span class="notification-title">Alerta</span>
                <a class="notification-desc" href="#">Actividad inusual detectada</a>
            </div>
        </div>
    </div>
    <div class="admin-menu" id="admin-menu">
        <button class="close-menu" data-menu="admin-menu">&times;</button>
        <div class="admin-content">
            <a class="admin-btn" href="/admin/crud">Gestión de Usuarios</a>
            <a class="admin-btn" href="/comming-soon">Panel de Reportes</a>
            <a class="admin-btn" href="/comming-soon">Control de Finanzas</a>
            <a class="admin-btn" href="/comming-soon">Herramientas de Desarrollador</a>
        </div>
    </div>

<script>
    class menus_toggle {
        static menus = [];
        constructor (button_id,menu_id) {
            this.button = document.getElementById(button_id);
            this.menu = document.getElementById(menu_id);
            menus_toggle.menus.push(menu_id);
            this.button.addEventListener("click", () => {
                event.stopPropagation();
                this.menu.classList.toggle('active');
                console.log(`Toggle ejecutado: ${menu_id}`);
                menus_toggle.menus.forEach (menu => {
                    if (menu != menu_id) {
                        document.getElementById(menu).classList.remove('active');
                    }
                    console.log(menu)
        });
        });

        this.menu.addEventListener("click", () => {
            event.stopPropagation();
            console.log('click en menu');
        });

        document.addEventListener('click', () => {
            this.menu.classList.remove('active');
            console.log('click');

        });
        }

        verlista () {
            return menus_toggle.menus;
        }

    }


    const ele1 = new menus_toggle('button-accout','accout-menu');
    const ele2 = new menus_toggle('button-notification','notification-menu');
    const ele3 = new menus_toggle('button-admin','admin-menu');

    console.log(ele1.verlista());
    console.log(ele2.verlista());

    // Botón de cerrar menú
    document.querySelectorAll('.close-menu').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.stopPropagation();
            document.getElementById(this.dataset.menu).classList.remove('active');
        });
    });
</script>
</nav>